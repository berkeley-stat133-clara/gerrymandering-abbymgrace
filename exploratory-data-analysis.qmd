---
title: Exploratory Data Analysis
format: typst
---

### Question 1

Which precinct had the closest race between Democrats and Republicans?

### Answer 1

```{r}
#uploading libraries
library(tidyverse)
prec <- read_csv("data/clean-precinct.csv", show_col_types = FALSE)
dist <- read_csv("data/clean-district-totals.csv", show_col_types = FALSE)


q1 <- prec |> mutate(margin = abs(DEMVOTE - REPVOTE)) |> arrange(margin)
head(q1, 5)
```

The closest precinct races all had a margin of 2 votes, so the Democratic and Republican candidates almost tied. They were in FIPS 06001, and the difference between the two parties was extreemly small. 

### Question 2

Which counties had the highest total number of precincts?

### Answer 2

```{r}
q2 <- prec |>
    count(COUNTY, name = "num_precincts") |>
    arrange(desc(num_precincts))
head(q2)
tail(q2)
```

The largest county in the dataset, Counties 19 and 36, have more than 5000 precincts which makes sense since they have a larger population compared to other counties. Some of the small counties, such as County 2, have smaller than around 50 precincts. This goes to show that the precincts differs across the entire state based off of county size. 

### Question 3

Which Assembly Disticits had the highest and lowest average turnout?

### Answer 3

```{r}
q3 <- prec |>
    group_by(ADDIST) |>
    summarize(avg_turn = mean(TOTVOTE, na.rm = TRUE)) |>
    arrange(desc(avg_turn))

head(q3)
tail(q3)
```

ADDIST 0 shows a very high average turnout and ADDIST 37 or 27 have very low average turnouts. This goes to show the precinct size and voter participation differ in different districts across the state and average turnout varies as well across Assembly Districts. 